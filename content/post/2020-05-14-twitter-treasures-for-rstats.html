---
title: 'Twitter treasures #rstats'
author: admin
date: '2020-05-14'
categories:
  - Miscellaneous
tags:
  - R
  - rstats
slug: twitter-treasures
lastmod: '2020-05-14T17:19:09+02:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
---



<p>A list of things I found on the internet and thought to be useful.</p>
<div id="reduce-whitespace-in-printed-lists" class="section level3">
<h3>Reduce whitespace in printed lists</h3>
<pre class="r"><code># create a list
alist &lt;- list(a=1,b=2,c=list(d=1:3, e=&quot;hello&quot;))
# regular print
alist</code></pre>
<pre><code>## $a
## [1] 1
## 
## $b
## [1] 2
## 
## $c
## $c$d
## [1] 1 2 3
## 
## $c$e
## [1] &quot;hello&quot;</code></pre>
<pre class="r"><code># shorter print
print.simple.list(alist)</code></pre>
<pre><code>##      _    
## a    1    
## b    2    
## c.d1 1    
## c.d2 2    
## c.d3 3    
## c.e  hello</code></pre>
<p>Source: <a href="https://twitter.com/coolbutuseless/status/1259972282421739522?s=20" class="uri">https://twitter.com/coolbutuseless/status/1259972282421739522?s=20</a></p>
</div>
<div id="rename-columns-inside-dyplyrselect-call" class="section level3">
<h3>Rename columns <em>inside</em> <code>dyplyr::select()</code> call</h3>
<pre class="r"><code>library(dplyr)
mtcars %&gt;% 
  # select some variables *and* rename one
  select(mpg, cyl, displacement = disp) %&gt;% 
  # look at structure of new object
  glimpse()</code></pre>
<pre><code>## Rows: 32
## Columns: 3
## $ mpg          &lt;dbl&gt; 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, ...
## $ cyl          &lt;dbl&gt; 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, ...
## $ displacement &lt;dbl&gt; 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7...</code></pre>
<p>Source: <a href="https://twitter.com/n_a_gilbert/status/1259866258708840452?s=20" class="uri">https://twitter.com/n_a_gilbert/status/1259866258708840452?s=20</a></p>
</div>
<div id="comment-out-any-step-in-a-pipeline" class="section level3">
<h3>Comment out any step in a pipeline</h3>
<pre class="r"><code>mtcars %&gt;% 
  # perform some wrangling
  filter(cyl &gt; 4) %&gt;% 
  group_by(cyl) %&gt;% 
  # comment out the last line
    # summarise(mean_wt = mean(wt)) %&gt;% 
  # no problem with identity()
  identity()</code></pre>
<pre><code>## # A tibble: 21 x 11
## # Groups:   cyl [2]
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  4  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  5  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  6  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  7  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
##  8  17.8     6  168.   123  3.92  3.44  18.9     1     0     4     4
##  9  16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3
## 10  17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3
## # ... with 11 more rows</code></pre>
<p>Source: <a href="https://twitter.com/thomas_neitmann/status/1260111985968119808?s=20" class="uri">https://twitter.com/thomas_neitmann/status/1260111985968119808?s=20</a></p>
</div>
<div id="rename-objectsvariablesetc.-within-one-r-chunck-only" class="section level3">
<h3>Rename objects/variables/etc. within one <code>R</code> chunck only</h3>
<pre><code>Ctrl + Alt + Shift + M</code></pre>
<p>Source: <a href="https://twitter.com/sergiouribe/status/1251446686255329283?s=20" class="uri">https://twitter.com/sergiouribe/status/1251446686255329283?s=20</a></p>
</div>
<div id="select-text-vertically-e.g.-geom_line-to-geom_point" class="section level3">
<h3>Select text vertically (e.g., <code>geom_line()</code> to <code>geom_point()</code>)</h3>
<pre><code>Alt + cursor</code></pre>
</div>
<div id="auto-format-r-scriptchunk" class="section level3">
<h3>Auto-format <code>R</code> script/chunk</h3>
<pre><code>Ctrl + Shift + A</code></pre>
</div>
<div id="round-to-nearest-tenth-hundred-etc." class="section level3">
<h3>Round to nearest tenth, hundred, etc.</h3>
<pre class="r"><code>round(
  # some vector
  c(1, 5, 6, 90, 11, 27, pi),
  # to -1 decimal = tenth
  digits = -1)</code></pre>
<pre><code>## [1]  0  0 10 90 10 30  0</code></pre>
<p>Source: <a href="https://twitter.com/_ColinFay/status/1250706532762861569?s=20" class="uri">https://twitter.com/_ColinFay/status/1250706532762861569?s=20</a></p>
</div>
<div id="apply-function-to-columns-of-dataframe" class="section level3">
<h3>Apply function to columns of dataframe</h3>
<pre class="r"><code>library(magrittr)
# expose contents
mtcars %$% lm(mpg ~ disp + hp)</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp + hp)
## 
## Coefficients:
## (Intercept)         disp           hp  
##    30.73590     -0.03035     -0.02484</code></pre>
</div>
<div id="rename-columns-in-dataframe-at-the-end-of-a-pipeline" class="section level3">
<h3>Rename columns in dataframe at the end of a pipeline</h3>
<pre class="r"><code>mtcars %&gt;% 
  # some wrangling
  filter(cyl &gt; 4) %&gt;% 
  # rename variables
  setNames(., 1:dim(.)[2])</code></pre>
<pre><code>##       1 2     3   4    5     6     7 8 9 10 11
## 1  21.0 6 160.0 110 3.90 2.620 16.46 0 1  4  4
## 2  21.0 6 160.0 110 3.90 2.875 17.02 0 1  4  4
## 3  21.4 6 258.0 110 3.08 3.215 19.44 1 0  3  1
## 4  18.7 8 360.0 175 3.15 3.440 17.02 0 0  3  2
## 5  18.1 6 225.0 105 2.76 3.460 20.22 1 0  3  1
## 6  14.3 8 360.0 245 3.21 3.570 15.84 0 0  3  4
## 7  19.2 6 167.6 123 3.92 3.440 18.30 1 0  4  4
## 8  17.8 6 167.6 123 3.92 3.440 18.90 1 0  4  4
## 9  16.4 8 275.8 180 3.07 4.070 17.40 0 0  3  3
## 10 17.3 8 275.8 180 3.07 3.730 17.60 0 0  3  3
## 11 15.2 8 275.8 180 3.07 3.780 18.00 0 0  3  3
## 12 10.4 8 472.0 205 2.93 5.250 17.98 0 0  3  4
## 13 10.4 8 460.0 215 3.00 5.424 17.82 0 0  3  4
## 14 14.7 8 440.0 230 3.23 5.345 17.42 0 0  3  4
## 15 15.5 8 318.0 150 2.76 3.520 16.87 0 0  3  2
## 16 15.2 8 304.0 150 3.15 3.435 17.30 0 0  3  2
## 17 13.3 8 350.0 245 3.73 3.840 15.41 0 0  3  4
## 18 19.2 8 400.0 175 3.08 3.845 17.05 0 0  3  2
## 19 15.8 8 351.0 264 4.22 3.170 14.50 0 1  5  4
## 20 19.7 6 145.0 175 3.62 2.770 15.50 0 1  5  6
## 21 15.0 8 301.0 335 3.54 3.570 14.60 0 1  5  8</code></pre>
</div>
<div id="print-variable-names-cleanly-i.e.-comma-separated-and-without-quote-marks" class="section level3">
<h3>Print variable names <em>cleanly</em> (i.e., comma separated and without quote marks)</h3>
<pre class="r"><code># print just the names
paste(colnames(mtcars), collapse = &quot;, &quot;) </code></pre>
<pre><code>## [1] &quot;mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb&quot;</code></pre>
<p>Source: <a href="https://twitter.com/ludmila_janda/status/1217486240058134528?s=20" class="uri">https://twitter.com/ludmila_janda/status/1217486240058134528?s=20</a></p>
</div>
<div id="save-output-of-r-scriptchunk" class="section level3">
<h3>Save output of <code>R</code> script/chunk</h3>
<pre class="r"><code># define output file, specify whether to add to existing output
sink(file=&quot;output.txt&quot;, append = FALSE)
# run some code
mtcars %&gt;% 
  glimpse()</code></pre>
<pre><code>## Rows: 32
## Columns: 11
## $ mpg  &lt;dbl&gt; 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8, 19.2, 17...
## $ cyl  &lt;dbl&gt; 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4, 4, 4, 4,...
## $ disp &lt;dbl&gt; 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146.7, 140.8,...
## $ hp   &lt;dbl&gt; 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 180, 180, ...
## $ drat &lt;dbl&gt; 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, 3....
## $ wt   &lt;dbl&gt; 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.190, 3.150,...
## $ qsec &lt;dbl&gt; 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.00, 22.90,...
## $ vs   &lt;dbl&gt; 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1,...
## $ am   &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0,...
## $ gear &lt;dbl&gt; 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, 3,...
## $ carb &lt;dbl&gt; 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, 1,...</code></pre>
<pre class="r"><code># save output
sink()</code></pre>
<p>Source: <a href="https://twitter.com/olivier_klein/status/1203347039133802497?s=20" class="uri">https://twitter.com/olivier_klein/status/1203347039133802497?s=20</a></p>
</div>
<div id="turn-off-scientific-notation-e.g.-5.3e-2-to-0.053" class="section level3">
<h3>Turn off scientific notation (e.g., <code>5.3e-2</code> to <code>0.053</code>)</h3>
<pre class="r"><code>options(scipen = 999)</code></pre>
<p>Source: <a href="https://twitter.com/edwardhkennedy/status/1188206942017196032?s=20" class="uri">https://twitter.com/edwardhkennedy/status/1188206942017196032?s=20</a></p>
</div>
<div id="list-of-datasets-in-r" class="section level3">
<h3>List of datasets in <code>R</code></h3>
<p>Source: <a href="https://vincentarelbundock.github.io/Rdatasets/datasets.html" class="uri">https://vincentarelbundock.github.io/Rdatasets/datasets.html</a></p>
</div>
